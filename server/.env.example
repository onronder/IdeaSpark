# Server Configuration
NODE_ENV=development
PORT=3000
HOST=localhost

# Database (Supabase PostgreSQL)
# Local development - use Supabase CLI linked project
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# Supabase Configuration
# After running: npx supabase login && npx supabase link
SUPABASE_PROJECT_REF=your-project-ref
SUPABASE_DB_PASSWORD=your-supabase-db-password
# Direct connection (not pooled) - for migrations
SUPABASE_DB_URL=postgresql://postgres.[PROJECT-REF]:your-password@aws-0-us-west-1.pooler.supabase.com:5432/postgres
# Connection pooler (for production API) - use this for app connections
SUPABASE_POOLER_URL=postgresql://postgres.[PROJECT-REF]:your-password@aws-0-us-west-1.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1

# Redis
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# JWT Secrets
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# Bcrypt
BCRYPT_ROUNDS=10

# API Keys
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=512
OPENAI_TEMPERATURE=0.4
OPENAI_TIMEOUT=30000

# In-App Purchases (Apple)
APPLE_SHARED_SECRET=your-apple-shared-secret-from-app-store-connect
APPLE_ENVIRONMENT=sandbox

# In-App Purchases (Google Play)
GOOGLE_SERVICE_ACCOUNT_KEY=path-to-google-service-account-key.json
GOOGLE_PACKAGE_NAME=com.ideaspark.app

# Sentry
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_SAMPLE_RATE=1.0

# Email (SendGrid)
SENDGRID_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@ideaspark.app
EMAIL_FROM_NAME=IdeaSpark

# Firebase Cloud Messaging (Push Notifications)
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project-id.iam.gserviceaccount.com

# Analytics (Amplitude)
AMPLITUDE_API_KEY=your-amplitude-api-key

# CORS
CORS_ORIGINS=http://localhost:8081,http://localhost:19000,exp://localhost:8081

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5
MESSAGE_RATE_LIMIT_MAX=10

# Quotas
FREE_TIER_IDEA_LIMIT=1
FREE_TIER_MESSAGE_LIMIT=2
PRO_TIER_IDEA_LIMIT=999999
PRO_TIER_MESSAGE_LIMIT=999999

# Cost Management
DAILY_AI_COST_LIMIT=100
COST_PER_1K_TOKENS=0.002

# Logging
LOG_LEVEL=debug
LOG_PRETTY=true

# Security
SESSION_SECRET=your-session-secret-change-in-production
COOKIE_SECURE=false
COOKIE_HTTPONLY=true
COOKIE_SAMESITE=strict

# Testing
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/ideaspark_test